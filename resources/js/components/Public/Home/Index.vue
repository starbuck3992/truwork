<template>
  <!-- My Slider -->
  <div id="home" class="hidden md:block slider relative shadow-xl sm:overflow-hidden h-screen">
    <div id="slider-items" class="slider-items">
      <!-- My Slider Item -->
      <div class="slider-item">
        <div class="relative h-full w-full">
          <img
              alt="kuchyně"
              class="h-full w-full object-cover"
              src="https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen1.jpg"
          />
          <div class="absolute inset-0 bg-gray-400 mix-blend-multiply"/>
          <div class="absolute inset-0 m-auto h-52">
            <h1
                class="
                text-center text-4xl
                font-extrabold
                tracking-tight
                sm:text-5xl
                lg:text-6xl
              "
            >
              <span class="block text-white">TRUWORK</span>
              <span class="block text-indigo-200">Stolařství</span>
            </h1>
            <p
                class="
                mt-6
                max-w-lg
                mx-auto
                text-center text-xl text-indigo-200
                sm:max-w-3xl
              "
            >
              Masivní dřevo, špičková řemeslná práce a individuální přístup je
              to,co dělá kuchyně Truwork naprosto výjimečnými.
            </p>
            <div
                class="
                mt-10
                max-w-sm
                mx-auto
                sm:max-w-none sm:flex sm:justify-center
              "
            >
              <a
                  class="
                  flex
                  items-center
                  justify-center
                  px-2
                  py-3
                  border border-transparent
                  text-base
                  font-medium
                  rounded-md
                  shadow-sm
                  text-indigo-800
                  bg-white
                  hover:bg-indigo-50
                  sm:px-8
                "
                  href="#contact-as"
              >
                Kontaktujte nás
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- End Slider Item -->
      <!-- My Slider Item -->
      <div class="slider-item">
        <div class="relative h-full w-full">
          <img
              alt="kuchyně"
              class="h-full w-full object-cover"
              src="https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen2.jpg"
          />
          <div class="absolute inset-0 bg-gray-400 mix-blend-multiply"/>
          <div class="absolute inset-0 m-auto h-52">
            <h1
                class="
                text-center text-4xl
                font-extrabold
                tracking-tight
                sm:text-5xl
                lg:text-6xl
              "
            >
              <span class="block text-white">TRUWORK</span>
              <span class="block text-indigo-200">Stolařství</span>
            </h1>
            <p
                class="
                mt-6
                max-w-lg
                mx-auto
                text-center text-xl text-indigo-200
                sm:max-w-3xl
              "
            >
              Masivní dřevo, špičková řemeslná práce a individuální přístup je
              to,co dělá kuchyně Truwork naprosto výjimečnými.
            </p>
            <div
                class="
                mt-10
                max-w-sm
                mx-auto
                sm:max-w-none sm:flex sm:justify-center
              "
            >
              <a
                  class="
                  flex
                  items-center
                  justify-center
                  px-2
                  py-3
                  border border-transparent
                  text-base
                  font-medium
                  rounded-md
                  shadow-sm
                  text-indigo-800
                  bg-white
                  hover:bg-indigo-50
                  sm:px-8
                "
                  href="#contact-as"
              >
                Kontaktujte nás
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- End Slider Item -->
      <!-- My Slider Item -->
      <div class="slider-item">
        <div class="relative h-full w-full">
          <img
              alt="kuchyně"
              class="h-full w-full object-cover"
              src="https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen3.jpg"
          />
          <div class="absolute inset-0 bg-gray-400 mix-blend-multiply"/>
          <div class="absolute inset-0 m-auto h-52">
            <h1
                class="
                text-center text-4xl
                font-extrabold
                tracking-tight
                sm:text-5xl
                lg:text-6xl
              "
            >
              <span class="block text-white">TRUWORK</span>
              <span class="block text-indigo-200">Stolařství</span>
            </h1>
            <p
                class="
                mt-6
                max-w-lg
                mx-auto
                text-center text-xl text-indigo-200
                sm:max-w-3xl
              "
            >
              Masivní dřevo, špičková řemeslná práce a individuální přístup je
              to,co dělá kuchyně Truwork naprosto výjimečnými.
            </p>
            <div
                class="
                mt-10
                max-w-sm
                mx-auto
                sm:max-w-none sm:flex sm:justify-center
              "
            >
              <a
                  class="
                  flex
                  items-center
                  justify-center
                  px-2
                  py-3
                  border border-transparent
                  text-base
                  font-medium
                  rounded-md
                  shadow-sm
                  text-indigo-800
                  bg-white
                  hover:bg-indigo-50
                  sm:px-8
                "
                  href="#contact-as"
              >
                Kontaktujte nás
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- End Slider Item -->
      <!-- My Slider Item -->
      <div class="slider-item">
        <div class="relative h-full w-full">
          <img
              alt="kuchyně"
              class="h-full w-full object-cover"
              src="https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen4.jpg"
          />
          <div class="absolute inset-0 bg-gray-400 mix-blend-multiply"/>
          <div class="absolute inset-0 m-auto h-52">
            <h1
                class="
                text-center text-4xl
                font-extrabold
                tracking-tight
                sm:text-5xl
                lg:text-6xl
              "
            >
              <span class="block text-white">TRUWORK</span>
              <span class="block text-indigo-200">Stolařství</span>
            </h1>
            <p
                class="
                mt-6
                max-w-lg
                mx-auto
                text-center text-xl text-indigo-200
                sm:max-w-3xl
              "
            >
              Masivní dřevo, špičková řemeslná práce a individuální přístup je
              to,co dělá kuchyně Truwork naprosto výjimečnými.
            </p>
            <div
                class="
                mt-10
                max-w-sm
                mx-auto
                sm:max-w-none sm:flex sm:justify-center
              "
            >
              <a
                  class="
                  flex
                  items-center
                  justify-center
                  px-2
                  py-3
                  border border-transparent
                  text-base
                  font-medium
                  rounded-md
                  shadow-sm
                  text-indigo-800
                  bg-white
                  hover:bg-indigo-50
                  sm:px-8
                "
                  href="#contact-as"
              >
                Kontaktujte nás
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- End Slider Item -->
      <!-- My Slider Item -->
      <div class="slider-item">
        <div class="relative h-full w-full">
          <img
              alt="kuchyně"
              class="h-full w-full object-cover"
              src="https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen5.jpg"
          />
          <div class="absolute inset-0 bg-gray-400 mix-blend-multiply"/>
          <div class="absolute inset-0 m-auto h-52">
            <h1
                class="
                text-center text-4xl
                font-extrabold
                tracking-tight
                sm:text-5xl
                lg:text-6xl
              "
            >
              <span class="block text-white">TRUWORK</span>
              <span class="block text-indigo-200">Stolařství</span>
            </h1>
            <p
                class="
                mt-6
                max-w-lg
                mx-auto
                text-center text-xl text-indigo-200
                sm:max-w-3xl
              "
            >
              Masivní dřevo, špičková řemeslná práce a individuální přístup je
              to,co dělá kuchyně Truwork naprosto výjimečnými.
            </p>
            <div
                class="
                mt-10
                max-w-sm
                mx-auto
                sm:max-w-none sm:flex sm:justify-center
              "
            >
              <a
                  class="
                  flex
                  items-center
                  justify-center
                  px-2
                  py-3
                  border border-transparent
                  text-base
                  font-medium
                  rounded-md
                  shadow-sm
                  text-indigo-800
                  bg-white
                  hover:bg-indigo-50
                  sm:px-8
                "
                  href="#contact-as"
              >
                Kontaktujte nás
              </a>
            </div>
          </div>
        </div>
      </div>
      <!-- End Slider Item -->
    </div>
  </div>
  <!-- End Slider -->
  <div class="relative bg-white pt-10 overflow-hidden">
    <section id="content">
      <div class="bg-white">
        <div class="max-w-xl mx-auto px-4 sm:px-6 lg:max-w-7xl lg:px-8">
          <div class="mt-10 lg:grid lg:grid-cols-2 lg:gap-x-8">
            <router-link v-for="category in categories" :key="category.name"
                         :to="{ name: category.href.name, query: category.href.parameters }"
                         class="group relative h-80 rounded-lg flex flex-col overflow-hidden group-hover:opacity-75 xl:w-auto mb-4 w-full">
                <span aria-hidden="true" class="absolute inset-0">
                  <img :src="category.imageSrc" alt="" class="w-full h-full object-center object-cover"/>
                </span>
              <span
                  class="relative mt-auto text-left text-xl font-bold text-white bg-gray-800 opacity-75 p-2 w-full group-hover:opacity-100">{{
                  category.name
                }}</span>
            </router-link>
          </div>
        </div>
      </div>
    </section>
    <section id="contact-as">
      <div
          id="myform"
          class="
          transition-all
          sm:duration-4000
          duration-2000
          max-w-7xl
          mx-auto
          py-16
          px-4
          sm:py-24 sm:px-6
          lg:px-8
          mt-5
        "
      >
        <div class="text-center">
          <p
              class="
              mt-10
              mb-12
              text-4xl
              font-extrabold
              text-gray-900
              sm:text-5xl sm:tracking-tight
              lg:text-6xl
            "
          >
            Kontaktujte nás!
          </p>
        </div>
        <div class="relative bg-white shadow-xl">
          <h2 class="sr-only">Kontaktní informace</h2>

          <div class="grid grid-cols-1 lg:grid-cols-3">
            <!-- Contact information :class="[form ? 'transition-opacity' : 'opacity-0', 'max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 mt-5']-->
            <div
                class="
                relative
                overflow-hidden
                py-10
                px-6
                bg-indigo-700
                sm:px-10
                xl:p-12
              "
            >
              <div
                  aria-hidden="true"
                  class="absolute inset-0 pointer-events-none sm:hidden"
              >
                <svg
                    class="absolute inset-0 w-full h-full"
                    fill="none"
                    height="388"
                    preserveAspectRatio="xMidYMid slice"
                    viewBox="0 0 343 388"
                    width="343"
                    xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                      d="M-99 461.107L608.107-246l707.103 707.107-707.103 707.103L-99 461.107z"
                      fill="url(#linear1)"
                      fill-opacity=".1"
                  />
                  <defs>
                    <linearGradient
                        id="linear1"
                        gradientUnits="userSpaceOnUse"
                        x1="254.553"
                        x2="961.66"
                        y1="107.554"
                        y2="814.66"
                    >
                      <stop offset="0" stop-color="#fff"/>
                      <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <div
                  aria-hidden="true"
                  class="
                  hidden
                  absolute
                  top-0
                  right-0
                  bottom-0
                  w-1/2
                  pointer-events-none
                  sm:block
                  lg:hidden
                "
              >
                <svg
                    class="absolute inset-0 w-full h-full"
                    fill="none"
                    height="339"
                    preserveAspectRatio="xMidYMid slice"
                    viewBox="0 0 359 339"
                    width="359"
                    xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                      d="M-161 382.107L546.107-325l707.103 707.107-707.103 707.103L-161 382.107z"
                      fill="url(#linear2)"
                      fill-opacity=".1"
                  />
                  <defs>
                    <linearGradient
                        id="linear2"
                        gradientUnits="userSpaceOnUse"
                        x1="192.553"
                        x2="899.66"
                        y1="28.553"
                        y2="735.66"
                    >
                      <stop offset="0" stop-color="#fff"/>
                      <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <div
                  aria-hidden="true"
                  class="
                  hidden
                  absolute
                  top-0
                  right-0
                  bottom-0
                  w-1/2
                  pointer-events-none
                  lg:block
                "
              >
                <svg
                    class="absolute inset-0 w-full h-full"
                    fill="none"
                    height="678"
                    preserveAspectRatio="xMidYMid slice"
                    viewBox="0 0 160 678"
                    width="160"
                    xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                      d="M-161 679.107L546.107-28l707.103 707.107-707.103 707.103L-161 679.107z"
                      fill="url(#linear3)"
                      fill-opacity=".1"
                  />
                  <defs>
                    <linearGradient
                        id="linear3"
                        gradientUnits="userSpaceOnUse"
                        x1="192.553"
                        x2="899.66"
                        y1="325.553"
                        y2="1032.66"
                    >
                      <stop offset="0" stop-color="#fff"/>
                      <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <h3 class="text-lg font-medium text-white">
                Kontaktní informace
              </h3>
              <p class="mt-6 text-base text-indigo-50 max-w-3xl"></p>
              <dl class="mt-8 space-y-6">
                <dt><span class="sr-only">Adresa</span></dt>
                <dd class="flex text-base text-indigo-50">
                  <LibraryIcon
                      aria-hidden="true"
                      class="flex-shrink-0 w-6 h-6 text-indigo-200"
                  />
                  <span class="ml-3"
                  ><a href="https://mapy.cz/s/hocezopale" target="_blank"
                  >Adresa : Tovární 219, 790 01 Jeseník</a
                  ></span
                  >
                </dd>
                <dt><span class="sr-only">Telefonní číslo</span></dt>
                <dd class="flex text-base text-indigo-50">
                  <PhoneIcon
                      aria-hidden="true"
                      class="flex-shrink-0 w-6 h-6 text-indigo-200"
                  />
                  <span class="ml-3">607 238 514</span>
                </dd>
                <dd class="flex text-base text-indigo-50">
                  <PhoneIcon
                      aria-hidden="true"
                      class="flex-shrink-0 w-6 h-6 text-indigo-200"
                  />
                  <span class="ml-3">608 333 070</span>
                </dd>
                <dt><span class="sr-only">Email</span></dt>
                <dd class="flex text-base text-indigo-50">
                  <MailIcon
                      aria-hidden="true"
                      class="flex-shrink-0 w-6 h-6 text-indigo-200"
                  />
                  <span class="ml-3">truwork@truwork.cz</span>
                </dd>
              </dl>
              <ul class="mt-8 flex space-x-12" role="list">
                <li>
                  <a class="text-indigo-200 hover:text-indigo-100" href="#">
                    <span class="sr-only">Facebook</span>
                    <svg
                        aria-hidden="true"
                        class="w-6 h-6"
                        fill="none"
                        height="24"
                        viewBox="0 0 24 24"
                        width="24"
                        xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                          d="M22.258 1H2.242C1.556 1 1 1.556 1 2.242v20.016c0 .686.556 1.242 1.242 1.242h10.776v-8.713h-2.932V11.39h2.932V8.887c0-2.906 1.775-4.489 4.367-4.489 1.242 0 2.31.093 2.62.134v3.037l-1.797.001c-1.41 0-1.683.67-1.683 1.653v2.168h3.362l-.438 3.396h-2.924V23.5h5.733c.686 0 1.242-.556 1.242-1.242V2.242C23.5 1.556 22.944 1 22.258 1"
                          fill="currentColor"
                      />
                    </svg>
                  </a>
                </li>
              </ul>
            </div>

            <!-- Contact form -->
            <div class="py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12">
              <form
                  class="mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8"
                  @submit.prevent="submit"
              >
                <div>
                  <label
                      class="block text-sm font-medium text-gray-900"
                      for="first-name"
                  >Jméno</label
                  >
                  <div class="mt-1">
                    <input
                        id="first-name"
                        v-model="form.name"
                        autocomplete="given-name"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border-gray-300
                        rounded-md
                      "
                        name="first-name"
                        required
                        type="text"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('name')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('name')"
                  ></div>
                </div>
                <div>
                  <label
                      class="block text-sm font-medium text-gray-900"
                      for="last-name"
                  >Příjmení</label
                  >
                  <div class="mt-1">
                    <input
                        id="last-name"
                        v-model="form.surname"
                        autocomplete="family-name"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border-gray-300
                        rounded-md
                      "
                        name="last-name"
                        required
                        type="text"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('surname')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('surname')"
                  ></div>
                </div>
                <div>
                  <label
                      class="block text-sm font-medium text-gray-900"
                      for="email"
                  >Email</label
                  >
                  <div class="mt-1">
                    <input
                        id="email"
                        v-model="form.email"
                        autocomplete="email"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border-gray-300
                        rounded-md
                      "
                        name="email"
                        required
                        type="email"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('email')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('email')"
                  ></div>
                </div>
                <div>
                  <div class="flex justify-between">
                    <label
                        class="block text-sm font-medium text-gray-900"
                        for="phone"
                    >Telefonní číslo</label
                    >
                  </div>
                  <div class="mt-1">
                    <input
                        id="phone"
                        v-model="form.phone"
                        aria-describedby="phone-optional"
                        autocomplete="tel"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border-gray-300
                        rounded-md
                      "
                        name="phone"
                        required
                        type="text"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('phone')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('phone')"
                  ></div>
                </div>
                <div class="sm:col-span-2">
                  <label
                      class="block text-sm font-medium text-gray-900"
                      for="subject"
                  >Předmět</label
                  >
                  <div class="mt-1">
                    <input
                        id="subject"
                        v-model="form.subject"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border-gray-300
                        rounded-md
                      "
                        name="subject"
                        required
                        type="text"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('subject')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('subject')"
                  ></div>
                </div>
                <div class="sm:col-span-2">
                  <div class="flex justify-between">
                    <label
                        class="block text-sm font-medium text-gray-900"
                        for="message"
                    >Text</label
                    >
                    <span id="message-max" class="text-sm text-gray-500"
                    >Maximálně 500 znaků</span
                    >
                  </div>
                  <div class="mt-1">
                    <textarea
                        id="message"
                        v-model="form.message"
                        aria-describedby="message-max"
                        class="
                        py-3
                        px-4
                        block
                        w-full
                        shadow-sm
                        text-gray-900
                        focus:ring-indigo-500 focus:border-indigo-500
                        border border-gray-300
                        rounded-md
                      "
                        name="message"
                        required
                        rows="4"
                    />
                  </div>
                  <div
                      v-if="form.errors.has('message')"
                      class="mt-1 text-sm text-red-600"
                      v-text="form.errors.get('message')"
                  ></div>
                </div>
                <input
                    id="title"
                    v-model="form.title"
                    name="title"
                    type="hidden"
                />
                <div class="sm:col-span-2 sm:flex sm:justify-end">
                  <button
                      class="
                      mt-2
                      w-full
                      inline-flex
                      items-center
                      justify-center
                      px-6
                      py-3
                      border border-transparent
                      rounded-md
                      shadow-sm
                      text-base
                      font-medium
                      text-white
                      bg-indigo-600
                      hover:bg-indigo-700
                      focus:outline-none
                      focus:ring-2
                      focus:ring-offset-2
                      focus:ring-indigo-500
                      sm:w-auto
                    "
                      type="submit"
                  >
                    Odeslat
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import {onMounted, reactive, ref} from "vue";
import {useStore} from "vuex";
import {
  InboxIcon,
  SparklesIcon,
  MailIcon,
  PhoneIcon,
  LibraryIcon,
} from "@heroicons/vue/outline";
import Api from "../../../services/api";
import Form from "../../../utilities/form";

const categories = [
  {
    name: 'Kuchyně',
    href: {
      name: 'galleriesKitchen',
      parameters: {}
    },
    imageSrc: 'https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/kitchen1.jpg',
    imageAlt: 'Kitchens image.',
    description: 'Kuchyně na míru.',
  },
  {
    name: 'Skříně',
    href: {
      name: 'galleriesIndex',
      parameters: {
        category: 'skrine'
      }
    },
    imageSrc: 'https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/skrine.jpg',
    imageAlt: 'Skrine image.',
    description: 'Vestavěné skříně na míru.',
  },
  {
    name: 'Komerční prostory',
    href: {
      name: 'galleriesIndex',
      parameters: {
        category: 'komercni_prostory'
      }
    },
    imageSrc: 'https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/prostory.jpg',
    imageAlt: 'Commercial image.',
    description: 'Vybavíme komerční prostory. Školy, školky, Obecní úřady, a další...',
  },
  {
    name: 'Koupelny',
    href: {
      name: 'galleriesIndex',
      parameters: {
        category: 'koupelny'
      }
    },
    imageSrc: 'https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/koupelny.jpg',
    imageAlt: 'Koupelny image.',
    description: 'Vybavíme Vaší koupelnu...',
  },
  {
    name: 'Doplňky/Detaily',
    href: {
      name: 'galleriesIndex',
      parameters: {
        category: 'doplnky'
      }
    },
    imageSrc: 'https://default-space-bucket.fra1.cdn.digitaloceanspaces.com/truwork/doplnky.jpg',
    imageAlt: 'Koupelny image.',
    description: 'Na detailech si zakládáme.',
  },
]

export default {

  components: {
    InboxIcon,
    SparklesIcon,
    MailIcon,
    PhoneIcon,
    LibraryIcon
  },
  setup() {
    const store = useStore();

    const form = reactive(
        new Form({
          title: null,
          name: null,
          surname: null,
          email: null,
          phone: null,
          subject: null,
          message: null,
        })
    );

    function submit() {
      Api.post('/api/admin/galleries', form.objectToFormData()).then((response) => {
        form.onSuccess();
        store.dispatch('messagesModule/showSuccess', response.data.message);
      })
          .catch((error) => {
            if (error.response) {
              if (error.response.status === 422) {
                form.onFail(error.response.data.errors);
              } else {
                store.dispatch('messagesModule/showException', error.response.data.message);
              }
            } else {
              console.log(error);
            }
          })
    }

    onMounted(() => {

      //Slider
      const sliderItems = document.querySelector("#slider-items");
      const sliderItem = document.querySelectorAll(".slider-item");
      const total = sliderItem.length;
      let curr = -1;

      function carousel() {
        curr = ++curr % total;
        anim();
        setTimeout(carousel, 10000);
      }

      function anim() {
        sliderItems.style.transform = "translateX(" + -(curr * 100) + "%";
      }

      carousel();
    });

    return {
      form,
      categories,
      submit
    };
  },
};
</script>
<style scoped>
.slider-items {
  display: flex; /* Use flex */
  flex-flow: row nowrap;
  height: inherit;
  transition: transform 2s; /* Don't use margin, use transform */
}

.slider-item {
  flex: 0 0 100%;
  height: inherit;
}
</style>
